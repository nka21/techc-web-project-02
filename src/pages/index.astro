---
import Layout from '../layouts/Layout.astro';

// Common components
import SecTitle from '../components/common/SecTitle.astro';
import InnerTitle from '../components/common/InnerTitle.astro';

// News components
import NewsList from '../components/news/NewsLists.astro';

// Reservation components
import ReservationBtn from '../components/reservation/Reservation.astro';

// Table components
import TableRow from '../components/table/TableRow.astro';
import TableHead from '../components/table/TableHead.astro';
import TableData from '../components/table/TableData.astro';

// Image components
import { Image } from 'astro:assets';
import TopImage from '../assets/img02.png';

// Carousel images
const CarouselImages = await Astro.glob('../assets/slider/*');
const CarouselImagesName = import.meta.glob('../assets/slider/*');
---

<Layout title="邑南町香木の森公園バンガロー">
    <section class="pt-10">
        <Image
            src={TopImage}
            alt="バンガローのイメージイラスト"
            width="1480"
            height="780"
            class="mb-4 h-[195px] w-full border-solid bg-gray-900 object-cover"
            aria-label="バンガローのイメージイラスト"
        />
        <h1 class="mb-4 text-center font-kaisei text-xl">
            ハーブの香りと木々の隙間から降り注ぐ<br />木漏れ日を感じる癒し空間
        </h1>
    </section>
    <section class="grid gap-4 pb-[25px]">
        <SecTitle title="お知らせ" />
        <NewsList />
        <ReservationBtn />
    </section>
    <section>
        <SecTitle title="ご利用金額" />
        <div class="mt-[16px] grid gap-[26px]">
            <InnerTitle>定員：4名様</InnerTitle>
            <table class="w-full border-[1px] border-gray-900">
                <TableRow>
                    <TableHead> 平日 </TableHead>
                    <TableData>15,000円</TableData>
                </TableRow>
                <TableRow>
                    <TableHead> 土日祝 </TableHead>
                    <TableData>18,000円</TableData>
                </TableRow>
                <TableRow>
                    <TableHead> 長期休暇 </TableHead>
                    <TableData>20,000円</TableData>
                </TableRow>
            </table>
        </div>
    </section>
    <section>
        <!-- ここにスライドを追加予定 -->
        <div class="slider">
            <ul>
                {
                    CarouselImages.map((image, index) => {
                        const fileName = image.default.src
                            .split('/')
                            .pop()
                            .split('.')[0];
                        return (
                            <li>
                                <input
                                    type="radio"
                                    name="slide"
                                    checked={index === 0 ? true : undefined}
                                />
                                <Image
                                    width="337"
                                    height="225"
                                    src={image.default}
                                    alt={fileName}
                                />
                            </li>
                        );
                    })
                }
            </ul>
        </div>
        <p class="py-6 text-center text-sm leading-[25px]">
            香木の森公園の中にあるバンガロー施設。<br
            />木漏れ日が差し込む自然の中、<br />
            四季折々の風景を楽しめます。<br
            />敷地内にはオーガニックハーブやバラ園・<br />
            クラフト館・アスレチックなど<br />
            大人から子供まで楽しめる施設、設備がございます。
        </p>
    </section>
</Layout>

<style>
    :root {
        --slider-height: 250px;
        --slider-image-height: calc(var(--slider-height) - 30px);
    }

    img {
        width: 100%;
        object-fit: cover;
    }
    .slider {
        position: relative;
        ul {
            display: flex;
            position: relative;
            width: 100%;
            height: var(--slider-height);
            align-items: flex-end;
            justify-content: center;
            gap: 14px;
            li {
                img {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: var(--slider-image-height);
                    opacity: 0;
                    transition: opacity 1s;
                }
                input {
                    /* スタイルリセット */
                    -webkit-appearance: none;
                    -moz-appearance: none;
                    appearance: none;

                    position: relative;
                    width: 10px;
                    height: 10px;
                    background: #c1c1c1;
                    border-radius: 50%;
                    border: none;
                    outline: none;
                    &:checked {
                        background: #000;
                        & ~ img {
                            opacity: 1;
                        }
                    }
                }
            }
        }
    }
</style>
